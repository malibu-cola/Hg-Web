# シフト最適化

## 問題

店のシフトを8人の生徒から決める。お店に必要なパワーは以下。

|********* |13時|14時|15時|16時|17時|
|----------|----|---|----|----|---|
|必要なパワー|2   |2  |2   |2   |2  |

8人のシフト希望が以下。数値はパワーを表している。
|********* |13時|14時|15時|16時|17時|
|-|-|-|-|-|-|
|A君|1||||1|
|B君|1|||1||
|C君||1|||1|
|D君|||1|1||
|E君||||1|1|
|F君|2|||||
|G君||2||||
|H君|||2||| 

## ソースコード

```python 
from tytan import *

q = symbols_list(8)

H = 0
H += (q[0] + q[1] + 2 * q[5] - 2) ** 2
H += (q[2] + 2 * q[6] - 2) ** 2
H += (q[3] + 2 * q[7] - 2) ** 2
H += (q[1] + q[3] + q[4] - 2) ** 2
H += (q[0] + q[2] + q[4] - 2) ** 2

qubo, offset =Compile(H).get_qubo()
solver = sampler.SASampler()
result = solver.run(qubo)

for r in result[:5]:
  print(r)
```

## 結果

```
[{'q0': 1, 'q1': 1, 'q2': 0, 'q3': 0, 'q4': 1, 'q5': 0, 'q6': 1, 'q7': 1}, -20.0, 58]
[{'q0': 0, 'q1': 0, 'q2': 0, 'q3': 1, 'q4': 1, 'q5': 1, 'q6': 1, 'q7': 0}, -18.0, 1]
[{'q0': 0, 'q1': 0, 'q2': 0, 'q3': 1, 'q4': 1, 'q5': 1, 'q6': 1, 'q7': 1}, -18.0, 1]
[{'q0': 0, 'q1': 0, 'q2': 1, 'q3': 0, 'q4': 1, 'q5': 1, 'q6': 0, 'q7': 1}, -18.0, 1]
[{'q0': 0, 'q1': 0, 'q2': 1, 'q3': 0, 'q4': 1, 'q5': 1, 'q6': 1, 'q7': 1}, -18.0, 3]
```

最適解は１番上のみ
